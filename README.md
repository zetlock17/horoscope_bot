
# Документация для Telegram-бота "Гороскоп"

## Описание проекта
Telegram-бот предоставляет ежедневные гороскопы для 12 знаков зодиака. Пользователи могут использовать команды для получения гороскопов, которые берутся с веб-сайта Mail.ru.

---

## Установка

### Требования
- Python 3.8 или выше
- Библиотеки: `requests`, `beautifulsoup4`, `python-telegram-bot`, `python-dotenv`
- Telegram Bot API Token (получить можно через [BotFather](https://core.telegram.org/bots#botfather))

### Установка зависимостей

1. Клонируйте репозиторий:
  ```bash
  git clone <repository_url>
  ```
2. Перейдите в директорию проекта:
  ```bash
  cd horoscopeBot
  ```
3. Установите необходимые зависимости:
   ```bash
   pip install -r requirements.txt
   ```

4. Создайте файл `.env` в корневом каталоге и добавьте свой токен:
   ```env
   TELEGRAM_TOKEN=ваш_токен_бота
   ```

---

## Запуск

1. Убедитесь, что файл `.env` создан и содержит токен.
2. Запустите бота:
   ```bash
   python bot.py
   ```

---

## Структура кода

### Основные модули
- **`get_horoscope`**  
  Запрашивает и парсит гороскоп для указанного знака зодиака с сайта Mail.ru.

- **`format_horoscope`**  
  Форматирует текст гороскопа для отправки пользователю.

- **`start`**  
  Приветственное сообщение с клавиатурой для выбора команд.

- **Команды для гороскопов**  
  Каждая команда (`/horoscope_<sign>`) отвечает за обработку запроса гороскопа для конкретного знака.

- **`help_command`**  
  Список всех доступных команд.

- **`unknown_command`**  
  Обрабатывает неизвестные команды.

### Перевод знаков зодиака
Используется словарь `signs_translation` для перевода названий знаков с английского на русский.

---

## Использование

### Доступные команды
- **`/start`**  
  Выводит клавиатуру с командами для быстрого выбора.
  
- **`/help`**  
  Показывает список всех доступных команд.

- **Гороскопы по знакам:**
  - `/horoscope_aries` – Гороскоп для Овна.
  - `/horoscope_taurus` – Гороскоп для Тельца.
  - `/horoscope_gemini` – Гороскоп для Близнецов.
  - `/horoscope_cancer` – Гороскоп для Рака.
  - `/horoscope_leo` – Гороскоп для Льва.
  - `/horoscope_virgo` – Гороскоп для Девы.
  - `/horoscope_libra` – Гороскоп для Весов.
  - `/horoscope_scorpio` – Гороскоп для Скорпиона.
  - `/horoscope_sagittarius` – Гороскоп для Стрельца.
  - `/horoscope_capricorn` – Гороскоп для Козерога.
  - `/horoscope_aquarius` – Гороскоп для Водолея.
  - `/horoscope_pisces` – Гороскоп для Рыб.

---

## Логирование

Все действия бота записываются в логи:
- Информация о вызове команд.
- Ошибки при парсинге данных.
- Неподдерживаемые команды.

### Уровень логирования
Устанавливается в `INFO`:
```python
logging.basicConfig(format='%(asctime)s - %(name)s - %(levelname)s - %(message)s', level=logging.INFO)
```

---

## Разработка

### Добавление новых функций
1. Добавьте новую функцию для обработки пользовательских данных или внешнего API.
2. Зарегистрируйте обработчик в `main()`.

### Пример добавления команды
```python
async def my_new_command(update: Update, context: ContextTypes.DEFAULT_TYPE) -> None:
    await update.message.reply_text("Это новая команда!")

application.add_handler(CommandHandler("my_new_command", my_new_command))
```

---

## Особенности и ограничения
- Используемый сайт может изменять структуру данных, что приведёт к ошибкам парсинга.
- В случае ошибки парсинга пользователю возвращается сообщение:  
  *"Не удалось получить гороскоп. Попробуйте позже."*

---

## Лицензия
Этот проект лицензирован под лицензией MIT. Подробности см. в файле LICENSE.

